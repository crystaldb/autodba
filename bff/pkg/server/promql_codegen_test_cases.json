[
  {
    "name": "Basic query with dim and legend",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "datname",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with filter",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "datname",
      "filterdim": "wait_event_name",
      "filterdimselected": "Lock:transactionid",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with filter (that turns into an empty filter)",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "datname",
      "filterdim": "wait_event_name",
      "filterdimselected": "CPU",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Invalid dimension",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "invalid_dim",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": true
  },
  {
    "name": "Empty database ID",
    "input": {
      "database_list": "",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "datname",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": true
  },
  {
    "name": "Query with topk and filter",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "client_addr",
      "dim": "usename",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "3",
      "offset": "2",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with complex filter (multiple selected values)",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "datname",
      "filterdim": "wait_event_name",
      "filterdimselected": "Lock:transactionid,BufferPin:buffer_content",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with no end time specified",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "",
      "step": "",
      "legend": "usename",
      "dim": "datname",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": true
  },
  {
    "name": "Query with large limit and no offset",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "client_addr",
      "dim": "usename",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "100",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with only offset (and no limit) won't have a limit",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "client_addr",
      "dim": "usename",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "5",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with missing start time",
    "input": {
      "database_list": "db1",
      "start": "",
      "end": "now",
      "step": "",
      "legend": "client_addr",
      "dim": "usename",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": true
  },
  {
    "name": "Query with `time` as `dim` and `legend`",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "time",
      "dim": "time",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with FilterDim 'wait_event_name' and empty FilterDimSelected",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "datname",
      "filterdim": "wait_event_name",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with FilterDim 'query' and empty FilterDimSelected",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "client_addr",
      "dim": "datname",
      "filterdim": "query",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  },
  {
    "name": "Query with 'query' as dim",
    "input": {
      "database_list": "db1",
      "start": "now-1h",
      "end": "now",
      "step": "",
      "legend": "usename",
      "dim": "query",
      "filterdim": "",
      "filterdimselected": "",
      "limit": "",
      "offset": "",
      "dbidentifier": "a/b/c"
    },
    "expected": "",
    "has_error": false
  }
]